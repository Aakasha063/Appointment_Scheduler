<h3>Book Appointment with {{ doctor.user.get_full_name }}</h3>

<form method="post" id="appointment-form">
  {% csrf_token %}
  
  <div class="form-group">
    <label for="{{ form.required_speciality.id_for_label }}">Required Speciality:</label>
    {{ form.required_speciality }}
  </div>
  
  <div class="form-group">
    <label for="{{ form.date_of_appointment.id_for_label }}">Date of Appointment:</label>
    <input type="text" id="date-picker" name="{{ form.date_of_appointment.name }}" class="form-control">
  </div>
  
  <div class="form-group">
    <label for="{{ form.start_time_of_appointment.id_for_label }}">Start Time of Appointment:</label>
    <input type="text" id="{{ form.start_time_of_appointment.id_for_label }}" name="{{ form.start_time_of_appointment.html_name }}" class="form-control" placeholder="HH:MM" required>
  </div>  
  
  <input type="hidden" name="doctor_id" value="{{ doctor.id }}"> <!-- Add this hidden input field -->
  
  {% if form.errors %}
  <div class="form-errors">
    <ul>
      {% for field in form %}
      {% for error in field.errors %}
      <li>{{ error }}</li>
      {% endfor %}
      {% endfor %}
    </ul>
  </div>
  {% endif %}

  <button type="submit" id="book-button">Book</button>
</form>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.13.0/jquery-ui.min.js"></script>

<script>
  $(function() {
    // Initialize datepicker
    $("#date-picker").datepicker({ dateFormat: "yy-mm-dd" });
  });
</script>

<link rel="stylesheet" href="https://code.jquery.com/ui/1.13.0/themes/base/jquery-ui.css">
